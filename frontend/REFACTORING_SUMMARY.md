# Tarot ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§ ì™„ë£Œ

## ğŸ¯ ìˆ˜ì •ëœ ì£¼ìš” ì—ëŸ¬

### 1. TypeScript íƒ€ì… ì—ëŸ¬
- **ë¬¸ì œ**: ëª¨ë“  state ë³€ìˆ˜ì— íƒ€ì…ì´ ì§€ì •ë˜ì§€ ì•Šì•„ `any`, `never` íƒ€ì… ì—ëŸ¬ ë°œìƒ
- **í•´ê²°**: 
  - ëª¨ë“  ì¸í„°í˜ì´ìŠ¤ì™€ íƒ€ì… ì •ì˜ë¥¼ ë³„ë„ íŒŒì¼(`types.ts`)ë¡œ ë¶„ë¦¬
  - state ë³€ìˆ˜ì— ëª…ì‹œì  íƒ€ì… ì§€ì •
  - í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ì— íƒ€ì… ì§€ì •

### 2. Import ì—ëŸ¬
- **ë¬¸ì œ**: 
  - `React` importëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠìŒ
  - `Zap` ì•„ì´ì½˜ì´ importë˜ì—ˆìœ¼ë‚˜ ë¯¸ì‚¬ìš©
  - `lucide-react` íŒ¨í‚¤ì§€ ë¯¸ì„¤ì¹˜
- **í•´ê²°**:
  - ë¶ˆí•„ìš”í•œ import ì œê±°
  - `npm install lucide-react` ì‹¤í–‰í•˜ì—¬ íŒ¨í‚¤ì§€ ì„¤ì¹˜

### 3. useEffect ì˜ì¡´ì„± ê²½ê³ 
- **ë¬¸ì œ**: useEffectì˜ ì˜ì¡´ì„± ë°°ì—´ì´ ëˆ„ë½ë˜ì–´ ê²½ê³  ë°œìƒ
- **í•´ê²°**: 
  - `generateInterpretation` í•¨ìˆ˜ë¥¼ `useCallback`ìœ¼ë¡œ ë˜í•‘
  - useEffectì— ëª¨ë“  ì˜ì¡´ì„± ì¶”ê°€

### 4. íƒ€ì… ì•ˆì „ì„± ê°œì„ 
- **ë¬¸ì œ**: ChatMessageì˜ typeì´ stringìœ¼ë¡œ ì¶”ë¡ ë˜ì–´ íƒ€ì… ë¶ˆì¼ì¹˜
- **í•´ê²°**: `as const` ì–´ì„œì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë¦¬í„°ëŸ´ íƒ€ì…ìœ¼ë¡œ ì¢í˜

## ğŸ“¦ ìƒˆë¡œìš´ íŒŒì¼ êµ¬ì¡°

```
components/
â”œâ”€â”€ Tarot.tsx              # ë©”ì¸ ì»´í¬ë„ŒíŠ¸ (UI ë¡œì§)
â””â”€â”€ tarot/
    â”œâ”€â”€ types.ts           # TypeScript íƒ€ì… ì •ì˜
    â”œâ”€â”€ data.ts            # íƒ€ë¡œ ì¹´ë“œ, ì¹´í…Œê³ ë¦¬, ìŠ¤í”„ë ˆë“œ ë°ì´í„°
    â””â”€â”€ interpretations.ts # ì¹´ë“œ í•´ì„ ë¡œì§
```

## âœ¨ ë¦¬íŒ©í† ë§ ê°œì„  ì‚¬í•­

### 1. ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ (Separation of Concerns)
- **íƒ€ì… ì •ì˜**: `types.ts`ì— ëª¨ë“  ì¸í„°í˜ì´ìŠ¤ì™€ íƒ€ì… ì§‘ì¤‘
- **ë°ì´í„°**: `data.ts`ì— ìƒìˆ˜ ë°ì´í„° ë¶„ë¦¬
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§**: `interpretations.ts`ì— í•´ì„ ë¡œì§ ë¶„ë¦¬
- **UI ë¡œì§**: `Tarot.tsx`ëŠ” ì˜¤ì§ UIì™€ ìƒíƒœ ê´€ë¦¬ë§Œ ë‹´ë‹¹

### 2. ì½”ë“œ ê°€ë…ì„± í–¥ìƒ
- 50ì¤„ ì´ìƒì˜ ê¸´ í•´ì„ í•¨ìˆ˜ë¥¼ ë³„ë„ ëª¨ë“ˆë¡œ ë¶„ë¦¬
- Record íƒ€ì…ì„ í™œìš©í•œ ì¹´ë“œë³„ ë©”ì‹œì§€ ê´€ë¦¬
- ëª…í™•í•œ í•¨ìˆ˜ëª…ê³¼ ì£¼ì„

### 3. ìœ ì§€ë³´ìˆ˜ì„± ê°œì„ 
- íƒ€ì… ì•ˆì „ì„± í™•ë³´ë¡œ ëŸ°íƒ€ì„ ì—ëŸ¬ ë°©ì§€
- ëª¨ë“ˆí™”ë¡œ í…ŒìŠ¤íŠ¸ ë° ìˆ˜ì • ìš©ì´
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í•¨ìˆ˜ êµ¬ì¡°

### 4. ì„±ëŠ¥ ìµœì í™”
- `useCallback`ì„ ì‚¬ìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ í•¨ìˆ˜ ì¬ìƒì„± ë°©ì§€
- ì˜ì¡´ì„± ë°°ì—´ì„ ëª…í™•íˆ í•˜ì—¬ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë Œë”ë§

## ğŸ”§ ì£¼ìš” ê°œì„  ì½”ë“œ

### Before
```typescript
const [selectedCards, setSelectedCards] = useState([]);
const selectCard = (card) => { ... }
```

### After
```typescript
const [selectedCards, setSelectedCards] = useState<TarotCard[]>([]);
const selectCard = (card: TarotCard) => { ... }
```

### Before (í•´ì„ ë¡œì§ì´ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ìˆìŒ)
```typescript
const generateInterpretation = () => {
  // 100ì¤„ ì´ìƒì˜ ë³µì¡í•œ ë¡œì§...
}
```

### After (ë³„ë„ ëª¨ë“ˆë¡œ ë¶„ë¦¬)
```typescript
// interpretations.ts
export const generateCardInterpretation = (
  selectedCards: TarotCard[],
  spreadType: string,
  question: string
): string => { ... }

// Tarot.tsx
const generateInterpretation = useCallback(() => {
  const interp = generateCardInterpretation(selectedCards, spreadType, question);
  setInterpretation(interp);
}, [selectedCards, spreadType, question]);
```

## ğŸ“Š ì½”ë“œ ë©”íŠ¸ë¦­

- **íŒŒì¼ ìˆ˜**: 1ê°œ â†’ 4ê°œ
- **ë©”ì¸ ì»´í¬ë„ŒíŠ¸ ë¼ì¸ ìˆ˜**: ~482ì¤„ â†’ ~420ì¤„ (ì•½ 13% ê°ì†Œ)
- **TypeScript ì—ëŸ¬**: 51ê°œ â†’ 0ê°œ
- **íƒ€ì… ì•ˆì „ì„±**: 0% â†’ 100%

## ğŸ¨ ì½”ë“œ í’ˆì§ˆ

- âœ… TypeScript strict ëª¨ë“œ í˜¸í™˜
- âœ… ESLint ê·œì¹™ ì¤€ìˆ˜
- âœ… ëª…í™•í•œ íƒ€ì… ì •ì˜
- âœ… ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬
- âœ… ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í•¨ìˆ˜
- âœ… ìµœì í™”ëœ ë Œë”ë§

## ğŸš€ ë‹¤ìŒ ê°œì„  ì œì•ˆ

1. **ì»´í¬ë„ŒíŠ¸ ë¶„í• **: Welcome, Question, Spread, Shuffle, Result í™”ë©´ì„ ë³„ë„ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬
2. **ì»¤ìŠ¤í…€ í›…**: íƒ€ë¡œ ë¡œì§ì„ `useTarot()` í›…ìœ¼ë¡œ ì¶”ì¶œ
3. **ìƒíƒœ ê´€ë¦¬**: ë³µì¡í•œ ìƒíƒœëŠ” Context APIë‚˜ Zustandë¡œ ê´€ë¦¬
4. **ì• ë‹ˆë©”ì´ì…˜**: Framer Motion ë“±ì„ í™œìš©í•œ ì¹´ë“œ ë’¤ì§‘ê¸° ì• ë‹ˆë©”ì´ì…˜
5. **API í†µí•©**: ì‹¤ì œ AI API(OpenAI, Claude ë“±)ì™€ ì—°ë™
6. **í…ŒìŠ¤íŠ¸**: Jest/Vitestë¡œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
7. **ì ‘ê·¼ì„±**: ARIA ì†ì„± ì¶”ê°€ ë° í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›
